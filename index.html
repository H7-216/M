<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CinéStream - Votre cinéma en ligne</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jwplayer/8.18.3/jwplayer.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #141414;
            color: white;
            overflow-x: hidden;
        }

        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, transparent 100%);
            z-index: 1000;
            padding: 1rem 4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }

        .header.scrolled {
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 900;
            color: #e50914;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .nav {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav a:hover {
            color: #e50914;
        }

        .hero-section {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.7)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><rect fill="%23000" width="1200" height="800"/><circle cx="600" cy="400" r="200" fill="%23e50914" opacity="0.1"/></svg>');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        .hero-content {
            max-width: 800px;
            padding: 2rem;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-button {
            background: #e50914;
            color: white;
            padding: 1rem 3rem;
            font-size: 1.2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(229,9,20,0.4);
        }

        .cta-button:hover {
            background: #f40612;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(229,9,20,0.6);
        }

        .content-section {
            padding: 4rem 0;
            margin-top: -10vh;
            position: relative;
            z-index: 10;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .player-container {
            background: rgba(0,0,0,0.8);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 3rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .player-wrapper {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .movie-info {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
            align-items: flex-start;
        }

        .movie-poster {
            width: 200px;
            height: 300px;
            border-radius: 8px;
            object-fit: cover;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        .movie-details {
            flex: 1;
        }

        .movie-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #fff;
        }

        .movie-meta {
            display: flex;
            gap: 2rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .movie-description {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }

        .movie-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .stars {
            color: #ffd700;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: white;
        }

        .movies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .movie-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
        }

        .movie-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            background: rgba(255,255,255,0.1);
        }

        .movie-card img {
            width: 100%;
            height: 350px;
            object-fit: cover;
        }

        .movie-card-info {
            padding: 1.5rem;
        }

        .movie-card-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .movie-card-year {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .movie-card-genre {
            color: #e50914;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(229,9,20,0.9);
            border: none;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .movie-card:hover .play-button {
            opacity: 1;
        }

        .categories {
            margin-bottom: 3rem;
        }

        .category-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .category-tab {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .category-tab.active,
        .category-tab:hover {
            background: #e50914;
            transform: translateY(-2px);
        }

        .current-playing {
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .header {
                padding: 1rem 2rem;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .movies-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 1rem;
            }
            
            .movie-info {
                flex-direction: column;
                text-align: center;
            }
            
            .movie-poster {
                align-self: center;
            }
        }
    </style>
</head>
<body>
    <header class="header" id="header">
        <div class="logo">CinéStream</div>
        <nav class="nav">
            <a href="#accueil">Accueil</a>
            <a href="#films">Films</a>
            <a href="#series">Séries</a>
            <a href="#nouveautés">Nouveautés</a>
            <a href="#ma-liste">Ma Liste</a>
        </nav>
    </header>

    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Cinéma Illimité</h1>
            <p class="hero-subtitle">Découvrez des milliers de films et séries en streaming haute définition</p>
            <button class="cta-button" onclick="scrollToContent()">Commencer à regarder</button>
        </div>
    </section>

    <section class="content-section" id="content">
        <div class="container">
            <div class="player-container">
                <div class="current-playing" id="current-playing">
                    Sélectionnez un film pour commencer la lecture
                </div>
                <div class="player-wrapper">
                    <div id="jwplayer-container"></div>
                </div>
                <div class="movie-info" id="movie-info" style="display: none;">
                    <img class="movie-poster" id="current-poster" src="" alt="Affiche du film">
                    <div class="movie-details">
                        <h2 class="movie-title" id="current-title"></h2>
                        <div class="movie-meta">
                            <span id="current-year"></span>
                            <span id="current-duration"></span>
                            <span id="current-genre"></span>
                        </div>
                        <div class="movie-rating">
                            <span class="stars" id="current-rating"></span>
                            <span id="current-rating-text"></span>
                        </div>
                        <p class="movie-description" id="current-description"></p>
                    </div>
                </div>
            </div>

            <div class="categories">
                <h2 class="section-title">Catalogue de Films</h2>
                <div class="category-tabs">
                    <button class="category-tab active" onclick="filterMovies('all')">Tous</button>
                    <button class="category-tab" onclick="filterMovies('action')">Action</button>
                    <button class="category-tab" onclick="filterMovies('drama')">Drame</button>
                    <button class="category-tab" onclick="filterMovies('comedy')">Comédie</button>
                    <button class="category-tab" onclick="filterMovies('thriller')">Thriller</button>
                    <button class="category-tab" onclick="filterMovies('sci-fi')">Sci-Fi</button>
                </div>
            </div>

            <div class="movies-grid" id="movies-grid">
                <!-- Les films seront générés dynamiquement -->
            </div>
        </div>
    </section>

    <script>
        // Configuration JWPlayer avec vos paramètres exacts
        var jwDefaults = {
            "aspectratio": "16:9",
            "autostart": true,
            "cast": {
                "appid": "00000000"
            },
            "controls": true,
            "displaydescription": true,
            "displaytitle": true,
            "flashplayer": "//ssl.p.jwpcdn.com/player/v/8.18.3/jwplayer.flash.swf",
            "height": 360,
            "key": "QFN07zA92fs4uuPHzLeE5OcGzNJe83omWTm19paRUYPCrOzCv0uCtBF4nagkXL1h",
            "mute": false,
            "ph": 1,
            "pid": "KB5zFt7A",
            "playbackRateControls": false,
            "preload": "metadata",
            "repeat": false,
            "stagevideo": false,
            "stretching": "uniform",
            "width": "100%"
        };

        jwplayer.defaults = jwDefaults;

        // Base de données des films avec playlist M3U8
        const moviesDatabase = [
            {
                id: 1,
                title: "Avengers: Endgame",
                year: 2019,
                genre: "action",
                duration: "181 min",
                rating: 4.8,
                description: "Après les événements dévastateurs d'Avengers: Infinity War, l'univers est en ruines. Avec l'aide des alliés restants, les Avengers s'assemblent une fois de plus pour défaire les actions de Thanos et restaurer l'ordre dans l'univers.",
                poster: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=600&fit=crop",
                playlist: "https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8"
            },
            {
                id: 2,
                title: "Inception",
                year: 2010,
                genre: "sci-fi",
                duration: "148 min",
                rating: 4.9,
                description: "Dom Cobb est un voleur expérimenté dans l'art dangereux de l'extraction, voler les secrets des subconscients pendant l'état de rêve. Cette compétence rare l'a rendu un joueur convoité dans le monde perfide de l'espionnage d'entreprise.",
                poster: "https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=400&h=600&fit=crop",
                playlist: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
            },
            {
                id: 3,
                title: "The Dark Knight",
                year: 2008,
                genre: "action",
                duration: "152 min",
                rating: 4.9,
                description: "Batman lève les enjeux dans sa guerre contre le crime. Avec l'aide du lieutenant Jim Gordon et du procureur Harvey Dent, Batman se propose de démanteler les organisations criminelles restantes qui infestent les rues.",
                poster: "https://images.unsplash.com/photo-1509347528160-9a9e33742cdb?w=400&h=600&fit=crop",
                playlist: "https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8"
            },
            {
                id: 4,
                title: "Pulp Fiction",
                year: 1994,
                genre: "drama",
                duration: "154 min",
                rating: 4.7,
                description: "Les vies de deux tueurs à gages, d'un boxeur, de la femme d'un gangster et d'une paire de voleurs de diner s'entremêlent dans quatre histoires de violence et de rédemption.",
                poster: "https://images.unsplash.com/photo-1489599735734-79b4625469cc?w=400&h=600&fit=crop",
                playlist: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"
            },
            {
                id: 5,
                title: "The Shawshank Redemption",
                year: 1994,
                genre: "drama",
                duration: "142 min",
                rating: 4.9,
                description: "Deux hommes emprisonnés se lient d'amitié sur plusieurs années, trouvant du réconfort et une rédemption éventuelle grâce à des actes de décence commune.",
                poster: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=600&fit=crop",
                playlist: "https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8"
            },
            {
                id: 6,
                title: "Forrest Gump",
                year: 1994,
                genre: "comedy",
                duration: "142 min",
                rating: 4.6,
                description: "Les présidences de Kennedy et Johnson, les événements du Vietnam, Watergate et d'autres histoires se déroulent à travers la perspective d'un homme de l'Alabama avec un QI de 75.",
                poster: "https://images.unsplash.com/photo-1489599735734-79b4625469cc?w=400&h=600&fit=crop",
                playlist: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"
            },
            {
                id: 7,
                title: "The Matrix",
                year: 1999,
                genre: "sci-fi",
                duration: "136 min",
                rating: 4.8,
                description: "Un hacker informatique apprend de mystérieux rebelles sur la vraie nature de sa réalité et son rôle dans la guerre contre ses contrôleurs.",
                poster: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=600&fit=crop",
                playlist: "https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.ism/.m3u8"
            },
            {
                id: 8,
                title: "Goodfellas",
                year: 1990,
                genre: "thriller",
                duration: "146 min",
                rating: 4.7,
                description: "L'histoire de Henry Hill et sa vie dans la mafia, couvrant ses relations avec sa femme Karen Hill et ses associés mafieux Jimmy Conway et Tommy DeVito.",
                poster: "https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=400&h=600&fit=crop",
                playlist: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
            }
        ];

        let playerInstance = null;
        let currentMovie = null;

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            initializePlayer();
            renderMovies();
            setupScrollEffect();
        });

        // Initialiser le lecteur JWPlayer
        function initializePlayer() {
            playerInstance = jwplayer("jwplayer-container");
            
            playerInstance.setup({
                ...jwDefaults,
                file: "",
                title: "CinéStream Player",
                description: "Sélectionnez un film pour commencer",
                width: "100%",
                height: 500
            });

            playerInstance.on('ready', function() {
                console.log('JWPlayer initialisé avec PlayerID:', jwDefaults.pid);
            });

            playerInstance.on('play', function() {
                console.log('Lecture démarrée');
            });

            playerInstance.on('error', function(e) {
                console.error('Erreur JWPlayer:', e);
            });
        }

        // Rendre la grille de films
        function renderMovies(filter = 'all') {
            const grid = document.getElementById('movies-grid');
            const filteredMovies = filter === 'all' ? moviesDatabase : moviesDatabase.filter(movie => movie.genre === filter);
            
            grid.innerHTML = filteredMovies.map(movie => `
                <div class="movie-card" onclick="playMovie(${movie.id})">
                    <img src="${movie.poster}" alt="${movie.title}">
                    <div class="play-button">▶</div>
                    <div class="movie-card-info">
                        <h3 class="movie-card-title">${movie.title}</h3>
                        <p class="movie-card-year">${movie.year}</p>
                        <p class="movie-card-genre">${movie.genre.toUpperCase()}</p>
                    </div>
                </div>
            `).join('');
        }

        // Lire un film
        function playMovie(movieId) {
            const movie = moviesDatabase.find(m => m.id === movieId);
            if (!movie) return;

            currentMovie = movie;
            
            // Charger la vidéo dans JWPlayer
            playerInstance.load({
                file: movie.playlist,
                title: movie.title,
                description: movie.description,
                width: "100%",
                height: 500
            });

            // Mettre à jour l'interface
            updateMovieInfo(movie);
            
            // Scroll vers le lecteur
            document.getElementById('content').scrollIntoView({ behavior: 'smooth' });
        }

        // Mettre à jour les informations du film
        function updateMovieInfo(movie) {
            document.getElementById('current-playing').textContent = `En cours: ${movie.title}`;
            document.getElementById('movie-info').style.display = 'flex';
            document.getElementById('current-poster').src = movie.poster;
            document.getElementById('current-title').textContent = movie.title;
            document.getElementById('current-year').textContent = movie.year;
            document.getElementById('current-duration').textContent = movie.duration;
            document.getElementById('current-genre').textContent = movie.genre.toUpperCase();
            document.getElementById('current-description').textContent = movie.description;
            
            // Étoiles de notation
            const stars = '★'.repeat(Math.floor(movie.rating)) + '☆'.repeat(5 - Math.floor(movie.rating));
            document.getElementById('current-rating').textContent = stars;
            document.getElementById('current-rating-text').textContent = `${movie.rating}/5`;
        }

        // Filtrer les films
        function filterMovies(category) {
            // Mettre à jour les onglets actifs
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Rendre les films filtrés
            renderMovies(category);
        }

        // Scroll vers le contenu
        function scrollToContent() {
            document.getElementById('content').scrollIntoView({ behavior: 'smooth' });
        }

        // Effet de scroll sur le header
        function setupScrollEffect() {
            window.addEventListener('scroll', function() {
                const header = document.getElementById('header');
                if (window.scrollY > 100) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        }

        // Raccourcis clavier
        document.addEventListener('keydown', function(e) {
            if (playerInstance && currentMovie) {
                switch(e.key) {
                    case ' ':
                        e.preventDefault();
                        if (playerInstance.getState() === 'playing') {
                            playerInstance.pause();
                        } else {
                            playerInstance.play();
                        }
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        playerInstance.seek(playerInstance.getPosition() + 10);
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        playerInstance.seek(playerInstance.getPosition() - 10);
                        break;
                }
            }
        });
    </script>
</body>
</html>